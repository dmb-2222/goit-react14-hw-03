(this["webpackJsonpgoit-react14-hw-03"]=this["webpackJsonpgoit-react14-hw-03"]||[]).push([[0],{103:function(e,t,a){e.exports=a(237)},115:function(e,t){},117:function(e,t){},152:function(e,t){},153:function(e,t){},236:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(29),r=a.n(l),c=a(22),i=a(17),s=a(18),u=a(20),m=a(19),d=a(21),h=a(6),p=a.n(h),b=function(e){var t=e.onInputChange,a=e.deposit,n=e.withdraw,l=e.resetForm,r=e.clearHistory;return o.a.createElement("section",{className:p.a.controls},o.a.createElement("input",{type:"number",className:p.a.input,onChange:t,value:l}),o.a.createElement("button",{type:"submit",className:p.a.button,name:"deposit",onClick:a},"Deposit"),o.a.createElement("button",{type:"button",className:p.a.button,name:"withdraw",onClick:n},"Withdraw"),o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:p.a.button,name:"clearHistory",onClick:r},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")))},y=function(e){var t=e.balance,a=e.deposit,n=e.withdraw;return o.a.createElement("section",{className:p.a.balance},o.a.createElement("span",{className:p.a.deposite},"\u2b06 ",a,"$"),o.a.createElement("span",{className:p.a.withdraw},"\u2b07 ",n,"$"),o.a.createElement("span",null,"Balance: ",t,"$"))},f=function(e){var t=e.history,a=void 0===t?[]:t;return o.a.createElement("table",{className:p.a.history},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Transaction"),o.a.createElement("th",null,"Amount"),o.a.createElement("th",null,"Date"))),o.a.createElement("tbody",null,a.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.type),o.a.createElement("td",null,e.amount),o.a.createElement("td",null,e.date))}))))},v=a(98),E=a.n(v),w={setBankHistory:function(e){localStorage.setItem("bankHistory",JSON.stringify(e))},getBankHistory:function(){return JSON.parse(localStorage.getItem("bankHistory"))},clearLS:function(){localStorage.clear()}},g=a(36),k=(a(196),w.getBankHistory()),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).noMoney=function(){return Object(g.b)("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{autoClose:5e3})},e.unCorrectInput=function(){return Object(g.b)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{autoClose:5e3})},e.handleInput=function(t){t.preventDefault(),Number(t.target.value)>0?e.setState({valueInput:t.target.value}):e.unCorrectInput()},e.createNewOperation=function(t){var a=(new Date).toLocaleDateString();return{id:E.a.generate(),type:t,amount:e.state.valueInput,date:a}},e.handleClearHistory=function(){w.clearLS(),e.setState({history:[],balance:0,deposit:0,withdraw:0})},e.handleCkickDeposit=function(){if(""!==e.state.valueInput){var t=e.createNewOperation("Deposit");e.setState((function(e){return{history:[t].concat(Object(c.a)(e.history)),deposit:e.deposit+=Number(t.amount),balance:e.balance+=Number(t.amount),valueInput:""}}))}else e.unCorrectInput()},e.handleCkickWithdraw=function(){if(""!==e.state.valueInput){var t=e.createNewOperation("Withdraw");e.setState((function(a){if(e.state.balance>=e.state.valueInput)return{balance:a.balance-=Number(t.amount),history:[t].concat(Object(c.a)(a.history)),withdraw:a.withdraw+=Number(t.amount),valueInput:""};e.noMoney()}))}else e.unCorrectInput()},e.state={history:[],balance:0,deposit:0,withdraw:0,valueInput:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){k&&this.setState({history:k.history,balance:k.balance,deposit:k.deposit,withdraw:k.withdraw})}},{key:"componentDidUpdate",value:function(e,t){t.history!==this.state.history&&w.setBankHistory(this.state)}},{key:"render",value:function(){var e=this.state,t=e.history,a=e.balance,n=e.deposit,l=e.withdraw,r=e.valueInput;return o.a.createElement("div",{className:p.a.dashboard},o.a.createElement(b,{onInputChange:this.handleInput,deposit:this.handleCkickDeposit,withdraw:this.handleCkickWithdraw,resetForm:r,clearHistory:this.handleClearHistory}),o.a.createElement(g.a,null),o.a.createElement(y,{balance:a,deposit:n,withdraw:l}),o.a.createElement(f,{history:t}))}}]),t}(o.a.Component),O=function(e){var t=e.webformatURL,a=e.tags,n=e.likes,l=e.comments,r=e.views,c=e.downloads,i=e.ckickToOpenModal;return o.a.createElement("li",{className:"photo-card"},o.a.createElement("img",{src:t,alt:a}),o.a.createElement("div",{className:"stats"},o.a.createElement("p",{className:"stats-item"},o.a.createElement("i",{className:"material-icons"},"thumb_up"),n),o.a.createElement("p",{className:"stats-item"},o.a.createElement("i",{className:"material-icons"},"visibility"),r),o.a.createElement("p",{className:"stats-item"},o.a.createElement("i",{className:"material-icons"},"comment"),l),o.a.createElement("p",{className:"stats-item"},o.a.createElement("i",{className:"material-icons"},"cloud_download"),c)),o.a.createElement("button",{type:"button",className:"fullscreen-button",onClick:i},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},C=function(e){var t=e.hits,a=e.ckickToOpenModal,n=e.showButtonloadMore,l=e.handleBtnLoadMore;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"gallery"},t.map((function(e){return o.a.createElement(O,Object.assign({key:e.id},e,{ckickToOpenModal:function(){return a(e.largeImageURL)}}))}))),n&&o.a.createElement("button",{className:"button",type:"button",onClick:l},"Load more"),o.a.createElement("div",{id:"scroll"}))},I=function(e){var t=e.handleInput,a=e.handeleSubmit,n=e.value;return o.a.createElement("form",{className:"search-form",onSubmit:a},o.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",onChange:t,value:n}))},_=function(e){var t=e.largeImageURL,a=e.tags,n=e.onCloseModal;return o.a.createElement("div",{className:"overlay",onClick:n,"data-modal":"modal",name:"modal"},o.a.createElement("div",{className:"modal"},o.a.createElement("img",{src:t,alt:a})))},M=a(101),S=a.n(M),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.log(t);var a="12916559-bca9cacbc431a253364f58898";return S.a.get("https://pixabay.com/api/?key=".concat(a,"&q=").concat(e,"&image_type=photo&orientation=horizontal&page=").concat(t,"&per_page=12")).then((function(e){return e.data.hits}))},L=a(102),B=a.n(L),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"loader"},o.a.createElement(B.a,{type:"BallTriangle",color:"#00BFFF",height:100,width:100}))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={hits:[],isModalOpen:!1,largeImageURL:"",btnLoadmore:!1,inputValue:null,value:"",spiner:!1},a.nextPage=1,a.handleBtnLoadMore=function(){a.setState({spiner:!0});var e=a.state.inputValue;a.nextPage++,j(e,a.nextPage).then((function(e){a.setState((function(t){return{hits:[].concat(Object(c.a)(t.hits),Object(c.a)(e)),spiner:!1}}))})).then((function(){document.getElementById("scroll").scrollIntoView({behavior:"smooth"})}))},a.ckickToOpenModal=function(e){a.setState({isModalOpen:!0,largeImageURL:e})},a.onCloseModal=function(e){"Escape"!==e.code&&"modal"!==e.target.dataset.modal||a.setState({isModalOpen:!1})},a.handleInput=function(e){a.setState({inputValue:e.target.value,value:e.target.value})},a.handeleSubmit=function(e){e.preventDefault();var t=a.state.inputValue;a.setState({spiner:!0}),j(t).then((function(e){return a.setState({hits:e,btnLoadmore:!0,value:"",spiner:!1})}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onCloseModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onCloseModal)}},{key:"render",value:function(){var e=this.state,t=e.hits,a=e.isModalOpen,n=e.largeImageURL,l=e.btnLoadmore,r=e.value,c=e.spiner;return o.a.createElement(o.a.Fragment,null,o.a.createElement(I,{handleInput:this.handleInput,handeleSubmit:this.handeleSubmit,value:r}),c&&o.a.createElement(D,null),t.length>0&&o.a.createElement(C,{hits:t,ckickToOpenModal:this.ckickToOpenModal,showButtonloadMore:l,handleBtnLoadMore:this.handleBtnLoadMore}),a&&o.a.createElement(_,{largeImageURL:n,onCloseModal:this.onCloseModal}))}}]),t}(o.a.Component);a(236);var T=function(){return o.a.createElement("div",null,o.a.createElement(N,null),o.a.createElement(H,null))};r.a.render(o.a.createElement(T,null),document.getElementById("root"))},6:function(e,t,a){e.exports={dashboard:"style_dashboard__DDpr1",controls:"style_controls__1rRXC",button:"style_button__TVvps",input:"style_input__2oVGy",balance:"style_balance__zeh09",deposite:"style_deposite__3-5lL",withdraw:"style_withdraw__2uJtP",history:"style_history__28ZNC"}}},[[103,1,2]]]);
//# sourceMappingURL=main.c1bee077.chunk.js.map